(n=>{n(document).ready(function(){if(n("#email_notifications").change(function(){n("#email_addresses").prop("disabled",!n(this).is(":checked"))}),0<klaviyo_wp_meta_sync_params.totalUsers){let l=setInterval(()=>{n.ajax({url:klaviyo_wp_meta_sync_params.ajaxUrl,type:"POST",dataType:"json",data:{action:"bulk_sync_progress",bulk_sync_nonce:klaviyo_wp_meta_sync_params.syncNonce},success(s){var e,r,o,t;console.log(s),s.success?({total_users:s,completed_users:t,skipped_users:e,failed_users:r,remaining_users:o}=s.data,t=`
								<div style="font-size: 14px; line-height: 1.6; margin-bottom: 10px;">
									‚úÖ <strong style="color: green;">${t.length}</strong> of <strong>${s}</strong> users successfully synced.<br>
									‚ö†Ô∏è <strong style="color: orange;">${e.length}</strong> users skipped (No matching meta keys).<br>
									‚ùå <strong style="color: red;">${r.length}</strong> users failed to sync.<br>
									‚è≥ <strong style="color: blue;">${o}</strong> users are still being processed.
								</div>
							`,n("#bulk-sync-progress").html(t),o<=0&&(clearInterval(l),s=`
									<div style="margin-top: 10px; font-size: 14px; line-height: 1.6;">
										üéâ <strong style="color: green;">Bulk Sync Completed!</strong><br>
										${0<r.length?`‚ö†Ô∏è <strong style="color: red;">${r.length} users failed. Check the logs for details.</strong>`:"‚úÖ All users were successfully synced!"}
									</div>
								`,n("#bulk-sync-progress").html(t+s))):(console.log("All syncs completed or no users left to process."),clearInterval(l),n("#bulk-sync-progress").html("<strong>All syncs completed or no users left to process.</strong>"))},error(){clearInterval(l),n("#bulk-sync-progress").html("‚ùå <strong>Sync progress update failed. Refresh the page and check the logs for details.</strong>"),console.error("‚ùå Error: Failed to fetch bulk sync progress.")}})},5e3)}else n("#bulk-sync-progress").html("‚ÑπÔ∏è <strong>No users available for sync. Start a new bulk sync if needed.</strong>")})})(jQuery);